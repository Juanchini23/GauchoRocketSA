CREATE DATABASE IF NOT EXISTS GauchoRocketSA;

USE GauchoRocketSA;

select *
from usuario;
select *
from rol;

CREATE TABLE rol
(
    id          smallint not null primary key,
    descripcion varchar(20)
);

insert into rol(id, descripcion)
values (1, 'Admin'),
       (2, 'Cliente');

CREATE TABLE usuario
(
    id            integer not null auto_increment primary key,
    idRol         smallint,
    nombre        varchar(20),
    apellido      varchar(20),
    mail          varchar(30),
    clave         varchar(50),
    codigoViajero int     not null,
    foreign key (idRol) references rol (id),
    foreign key (codigoViajero) references tipoCliente (id)
);

# Tabla planificacion es la de grilla

CREATE TABLE planificacion
(
    id          int primary key not null auto_increment,
    dia         varchar(20),
    horaPartida int,
    idOrigen    int,
    foreign key (idOrigen) references origen (id),
    idModelo      int,
    foreign key (idModelo) references modelo (id),
    idTipoVuelo int,
    foreign key (idTipoVuelo) references tipoVuelo (id)
);

CREATE TABLE origen
(
    id          int primary key auto_increment not null,
    descripcion varchar(50)
);

insert into origen (descripcion)
values ('BA'),
       ('AK');

CREATE TABLE vuelo
(
    id        int primary key auto_increment not null,
    dia       varchar(25),
    duracion  int,
    codigo    varchar(50),
    idOrigen  int,
    foreign key (idOrigen) references origen (id),
    destino   varchar(50),
    tipoVuelo int,
    foreign key (tipoVuelo) references tipoVuelo (id),
    modelo    int,
    foreign key (modelo) references modelo (id)
);

CREATE TABLE modelo
(
    id          int primary key not null auto_increment,
    idNave      int,
    foreign key (idNave) references nave (id),
    tipoEquipo  int,
    foreign key (tipoEquipo) references tipoEquipo (id),
    tipoCabina  int,
    foreign key (tipoCabina) references tipoCabina (id),
    tipoCliente int,
    foreign key (tipoCliente) references tipoCliente (id)
);

CREATE TABLE nave
(
    id        int primary key not null auto_increment,
    modelo    varchar(20),
    matricula varchar(20)
);

# Reeplantear mañana

CREATE TABLE tipoVuelo
(
    id          int primary key not null auto_increment,
    descripcion varchar(50)
);

insert into tipoVuelo (descripcion)
values ('Orbitales'),
       ('Tour'),
       ('EntreDestinosUno'),
       ('EntreDestinosDos');

# /Reeplantear mañana








































CREATE TABLE tipoEquipo
(
    id          int primary key not null auto_increment,
    descripcion varchar(50)
);

insert into tipoEquipo (descripcion)
values ('OR'),
       ('BA'),
       ('AA');

select *
from tipoEquipo;

CREATE TABLE tipoCabina
(
    id          int primary key not null auto_increment,
    descripcion varchar(50),
    capacidad   int
);

insert into tipoCabina (descripcion, capacidad)
values ('T', 50),
       ('E', 40),
       ('P', 25);

select *
from tipoCabina;

CREATE TABLE tipoCliente
(
    id          int primary key not null auto_increment,
    descripcion varchar(10)
);

insert into tipoCliente (descripcion)
values ('1'),
       ('2'),
       ('3'),
       ('1,2'),
       ('1,3'),
       ('2,3'),
       ('1,2,3');

select *
from tipoCliente;

CREATE TABLE centroMedico
(
    id              int primary key not null auto_increment,
    descripcion     varchar(50),
    capacidadDiaria int
);

insert into centroMedico (descripcion, capacidadDiaria)
values ('Buenos Aires', 300),
       ('Shangai', 210),
       ('Ankara', 200);

select *
from centroMedico;